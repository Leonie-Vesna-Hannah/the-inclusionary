(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{38:function(e,t,s){},39:function(e,t,s){},65:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),i=s(31),r=s.n(i),c=(s(38),s(15)),o=s(3),l=s(4),u=s(6),h=s(5),d=(s(39),s(2)),b=s(7),j=s.n(b),p=function(e,t){return j.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},m=function(e,t){return j.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},O=function(e){j.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};var g=function(e){return Object(n.jsx)("section",{className:"header-section",children:e.user?Object(n.jsxs)("nav",{children:[Object(n.jsx)(d.b,{to:"/",children:"Home"}),Object(n.jsx)(d.b,{to:"/my-own-business",children:"See your business profile"}),Object(n.jsx)(d.b,{to:"/",onClick:function(){return O(e)},children:"Log out"})]}):Object(n.jsxs)("nav",{children:[Object(n.jsx)(d.b,{to:"/",children:"Home"}),Object(n.jsx)(d.b,{to:"/signup",children:"Signup"}),Object(n.jsx)(d.b,{to:"/login",children:"Login"})]})})};function x(e){return Object(n.jsx)("div",{children:e.businesses.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsxs)("h2",{children:[Object(n.jsx)(d.b,{to:"/businesses/".concat(e._id),children:e.title}),Object(n.jsx)("p",{children:e.headOfBusiness}),Object(n.jsx)("p",{children:e.city}),Object(n.jsx)("img",{src:e.picture,alt:"businessPicture",style:{width:"100px"}})]})},e._id)}))})}var f=s(14),y=function(e){throw e},v=function(e){return console.log("file to be handled: ",e),j.a.post("/api/upload",e).then((function(e){return e.data})).catch(y)},C=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={user:e.props.user,title:"",headOfBusiness:"",description:"",category:"",street:"",houseNumber:"",city:"",zipCode:"",country:"",email:"",picture:"",publicID:"",submitted:!1,imageSelected:!1},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(f.a)({},n,a))},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files[0]),e.setState({imageSelected:!0});var s=new FormData;s.append("picture",t.target.files[0]),v(s).then((function(t){var s=t.secure_url,n=t.public_id;console.log("res from handleupload: ",t.secure_url),e.setState({picture:s,publicID:n}),console.log("new state: ",e.state.picture),!0===e.state.submitted&&e.handleSubmit()})).catch((function(t){e.setState({imageSelected:!1}),console.log("Error while uploading the file: ",t)}))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.state.picture||!e.state.imageSelected?j.a.post("/api/businesses",{title:e.state.title,headOfBusiness:e.state.headOfBusiness,description:e.state.description,category:e.state.category,street:e.state.street,houseNumber:e.state.houseNumber,city:e.state.city,zipCode:e.state.zipCode,country:e.state.country,email:e.state.email,design:e.state.design,picture:e.state.picture,imagePublicID:e.state.publicID}).then((function(){e.props.history.push("/my-own-business")})).catch((function(e){return console.log(e)})):e.setState({submitted:!0})},e}return Object(l.a)(s,[{key:"render",value:function(){return console.log("props from add business",this.props),Object(n.jsxs)("section",{children:[Object(n.jsx)("h1",{children:"Add your business:"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(n.jsx)("input",{type:"text",id:"title",name:"title",value:this.state.title,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"headOfBusiness",children:"Head of business: "}),Object(n.jsx)("input",{type:"text",id:"headOfBusiness",name:"headOfBusiness",value:this.state.headOfBusiness,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(n.jsx)("input",{type:"text",id:"description",name:"description",value:this.state.description,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"category",children:"Category: "}),Object(n.jsxs)("select",{id:"category",name:"category",value:this.state.category,onChange:this.handleChange,children:[Object(n.jsx)("option",{value:"",children:"select a category"}),Object(n.jsx)("option",{value:"Art & Entertainment",children:"Art & Entertainment"}),Object(n.jsx)("option",{value:"Finance",children:"Finance"}),Object(n.jsx)("option",{value:"Food & Drinks",children:"Food & Drinks"}),Object(n.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(n.jsx)("option",{value:"Hospitality",children:"Hospitality"}),Object(n.jsx)("option",{value:"Media & Design",children:"Media & Design"}),Object(n.jsx)("option",{value:"Retail",children:"Retail"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"street",children:"Street: "}),Object(n.jsx)("input",{type:"text",id:"street",name:"street",value:this.state.street,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"houseNumber",children:"House number: "}),Object(n.jsx)("input",{type:"number",id:"houseNumber",name:"houseNumber",value:this.state.houseNumber,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"city",children:"City: "}),Object(n.jsx)("input",{type:"text",id:"city",name:"city",value:this.state.city,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code: "}),Object(n.jsx)("input",{type:"number",id:"zipCode",name:"zipCode",value:this.state.zipCode,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"country",children:"Country: "}),Object(n.jsx)("input",{type:"text",id:"country",name:"country",value:this.state.country,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"email",children:"E-mail: "}),Object(n.jsx)("input",{type:"text",id:"email",name:"email",value:this.state.email,onChange:this.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"picture",children:"Image:"}),Object(n.jsx)("input",{type:"file",name:"picture",id:"picture",onChange:this.handleFileUpload}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",children:"Add your Business"})]})]})}}]),s}(a.Component),S=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h1",{children:"SearchBar"}),Object(n.jsx)("input",{type:"text",name:"search",onChange:this.props.mySearch})]})}}]),s}(a.Component),F=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={businesses:[],search:""},e.getData=function(){j.a.get("/api/businesses").then((function(t){console.log(t),e.setState({businesses:t.data})})).catch((function(e){return console.log(e)}))},e.mySearch=function(t){e.setState({search:t.target.value})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state.businesses.filter((function(t){return t.title.includes(e.state.search)}));return console.log(t),Object(n.jsxs)("div",{className:"businesses-container",children:[Object(n.jsx)(S,{mySearch:this.mySearch}),Object(n.jsx)(x,{businesses:t})]})}}]),s}(a.Component);function w(){return Object(n.jsx)("div",{children:"Made In Berlin etc"})}var D=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(f.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password;p(n,a).then((function(t){console.log("data signup",t),t.message?e.setState({message:t.message,username:n,password:a}):(e.props.setUser(t),e.props.history.push("/my-own-business"))}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("section",{className:"signup-login-form",children:[Object(n.jsx)("h1",{children:"You can create your business profile here:"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(n.jsx)("input",{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange}),Object(n.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange}),Object(n.jsx)("button",{type:"submit",children:"Signup"}),this.state.message&&Object(n.jsx)("p",{children:this.state.message})]})]})}}]),s}(a.Component),B=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(f.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password;m(n,a).then((function(t){console.log("data login",t),t.message?e.setState({message:t.message,username:n,password:a}):(e.props.setUser(t),e.props.history.push("/my-own-business"))}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("section",{className:"signup-login-form",children:[Object(n.jsx)("h1",{children:"Log in here:"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(n.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(n.jsx)("input",{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange}),Object(n.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange}),Object(n.jsx)("button",{type:"submit",children:"Log in"}),this.state.message&&Object(n.jsx)("p",{children:this.state.message})]}),Object(n.jsx)("div",{children:Object(n.jsx)("a",{href:"http://localhost:5555/api/auth/google",children:"Log in With Google"})})]})}}]),s}(a.Component),k=s(8),N=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("section",{children:[Object(n.jsx)("h1",{children:"Edit business:"}),Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit,children:[Object(n.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(n.jsx)("input",{type:"text",id:"title",name:"title",value:this.props.title,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"headOfBusiness",children:"Head of business: "}),Object(n.jsx)("input",{type:"text",id:"headOfBusiness",name:"headOfBusiness",value:this.props.headOfBusiness,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(n.jsx)("input",{type:"text",id:"description",name:"description",value:this.props.description,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"category",children:"Category: "}),Object(n.jsxs)("select",{id:"category",name:"category",value:this.props.category,onChange:this.props.handleChange,children:[Object(n.jsx)("option",{value:"",children:"select a category"}),Object(n.jsx)("option",{value:"Art & Entertainment",children:"Art & Entertainment"}),Object(n.jsx)("option",{value:"Finance",children:"Finance"}),Object(n.jsx)("option",{value:"Food & Drinks",children:"Food & Drinks"}),Object(n.jsx)("option",{value:"Health",children:"Health"}),Object(n.jsx)("option",{value:"Hospitality",children:"Hospitality"}),Object(n.jsx)("option",{value:"Media & Design",children:"Media & Design"}),Object(n.jsx)("option",{value:"Retail",children:"Retail"})]}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"street",children:"Street: "}),Object(n.jsx)("input",{type:"text",id:"street",name:"street",value:this.props.street,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"houseNumber",children:"House number: "}),Object(n.jsx)("input",{type:"number",id:"houseNumber",name:"houseNumber",value:this.props.houseNumber,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"city",children:"City: "}),Object(n.jsx)("input",{type:"text",id:"city",name:"city",value:this.props.city,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code: "}),Object(n.jsx)("input",{type:"number",id:"zipCode",name:"zipCode",value:this.props.zipCode,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"country",children:"Country: "}),Object(n.jsx)("input",{type:"text",id:"country",name:"country",value:this.props.country,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"email",children:"E-mail: "}),Object(n.jsx)("input",{type:"text",id:"email",name:"email",value:this.props.email,onChange:this.props.handleChange}),Object(n.jsx)("br",{}),Object(n.jsx)("label",{htmlFor:"picture",children:"Image:"}),Object(n.jsx)("input",{type:"file",name:"picture",id:"picture",onChange:this.props.handleFileUpload}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"submit",children:"Update Business"})]})]})}}]),s}(a.Component),z=s(18),I=s.n(z);I.a.accessToken="pk.eyJ1IjoidmVzbmFtIiwiYSI6ImNraXEzMXk2NzBjczgyc3A5NzM1cnZ4eHUifQ.3lDAsenrxdP6Sq4WVSo43g";var A=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={lng:e.props.long,lat:e.props.lat,zoom:12},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=new I.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[this.state.lng,this.state.lat],zoom:this.state.zoom});({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[this.state.lng,this.state.lat]},properties:{title:"Mapbox",description:"Washington, D.C."}}]}).features.forEach((function(t){var s=document.createElement("div");s.className="marker",new I.a.Marker(s).setLngLat(t.geometry.coordinates).setPopup(new I.a.Popup({offset:25})).addTo(e)}))}},{key:"render",value:function(){var e=this;return console.log("state from mapbox",this.state),Object(n.jsx)("div",{children:Object(n.jsx)("div",{ref:function(t){return e.mapContainer=t}})})}}]),s}(a.Component),U=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={business:null,editForm:!1,error:null,title:"",headOfBusiness:"",picture:"",description:"",category:"",street:"",houseNumber:"",city:"",zipCode:"",country:"",email:"",publicID:"",submitted:!1,imageSelected:!1,lat:52.52,long:13.4},e.getData=function(){var t=e.props.match.params.id;j.a.get("/api/businesses/".concat(t)).then((function(t){e.setState({business:t.data,title:t.data.title,headOfBusiness:t.data.headOfBusiness,picture:t.data.picture,description:t.data.description,category:t.data.category,street:t.data.street,houseNumber:t.data.houseNumber,city:t.data.city,zipCode:t.data.zipCode,country:t.data.country,email:t.data.email})})).catch((function(t){console.log(t),404===t.response.status&&e.setState({error:"Sorry - Business Not found"})}))},e.latLngCall=function(){var t=e.state.street.split(" ").join("%20");j.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,"%20").concat(e.state.houseNumber,"%20").concat(e.state.zipCode,"%20").concat(e.state.city,".json?country=DE&access_token=pk.eyJ1IjoidmVzbmFtIiwiYSI6ImNraXEzMXk2NzBjczgyc3A5NzM1cnZ4eHUifQ.3lDAsenrxdP6Sq4WVSo43g")).then((function(t){console.log("result",t),e.setState({lat:t.data.features[0].center[1],long:t.data.features[0].center[0]})}))},e.componentDidMount=function(){e.getData(),setTimeout((function(){e.latLngCall()}),2e3)},e.deleteBusiness=function(){var t=e.props.match.params.id;j.a.delete("/api/businesses/".concat(t)).then((function(){e.props.history.push("/my-own-business")}))},e.toggleEditForm=function(){e.setState((function(e){return{editForm:!e.editForm}}))},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(f.a)({},n,a))},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files[0]),e.setState({imageSelected:!0});var s=new FormData;s.append("picture",t.target.files[0]),console.log("upload data",s),v(s).then((function(t){var s=t.secure_url,n=t.public_id;console.log("res from handleupload: ",t.secure_url),e.setState({picture:s,publicID:n}),console.log("new state: ",e.state.picture),!0===e.state.submitted&&e.handleSubmit()})).catch((function(t){e.setState({imageSelected:!1}),console.log("Error while uploading the file: ",t)}))},e.handleSubmit=function(t){t.preventDefault();var s=e.props.match.params.id;e.state.picture||!e.state.imageSelected?j.a.put("/api/businesses/".concat(s),{title:e.state.title,headOfBusiness:e.state.headOfBusiness,description:e.state.description,picture:e.state.picture,category:e.state.category,street:e.state.street,houseNumber:e.state.houseNumber,city:e.state.city,zipCode:e.state.zipCode,country:e.state.country,email:e.state.email,imagePublicID:e.state.publicID}).then((function(t){e.setState({business:t.data,title:t.data.title,headOfBusiness:t.data.headOfBusiness,description:t.data.description,picture:t.data.picture,category:t.data.category,street:t.data.street,houseNumber:t.data.houseNumber,city:t.data.city,zipCode:t.data.zipCode,country:t.data.country,email:t.data.email,editForm:!1,publicID:t.data.publicID})})).catch((function(e){console.log(e)})):e.setState({submitted:!0})},e}return Object(l.a)(s,[{key:"render",value:function(){if(this.state.error)return Object(n.jsx)("h1",{children:this.state.error});if(!this.state.business)return Object(n.jsx)("h1",{children:"Loading..."});var e=!1,t=this.props.user;console.log("user",t),console.log("props",this.props);var s=this.state.business.owner;return t&&t._id===s&&(e=!0),Object(n.jsxs)("section",{className:"business-details-section",children:[Object(n.jsx)("h1",{children:this.state.business.title}),Object(n.jsx)("p",{children:this.state.business.headOfBusiness}),Object(n.jsx)("img",{style:{width:"100px"},src:this.state.business.picture,alt:"business"}),Object(n.jsx)("p",{children:this.state.business.description}),Object(n.jsx)("p",{children:this.state.business.category}),Object(n.jsx)("p",{children:this.state.business.street}),Object(n.jsx)("p",{children:this.state.business.houseNumber}),Object(n.jsx)("p",{children:this.state.business.city}),Object(n.jsx)("p",{children:this.state.business.zipCode}),Object(n.jsx)("p",{children:this.state.business.country}),Object(n.jsx)("p",{children:this.state.business.email}),e&&Object(n.jsx)("button",{onClick:this.deleteBusiness,children:"Delete Business"}),e&&Object(n.jsx)("button",{onClick:this.toggleEditForm,children:"Edit Business"}),this.state.editForm&&Object(n.jsx)(N,Object(c.a)(Object(c.a)({},this.state),{},{handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleFileUpload:this.handleFileUpload})),Object(n.jsx)(A,{lat:this.state.lat,long:this.state.long})]})}}]),s}(a.Component),E=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(d.b,{to:"/categories/Art & Entertainment",children:"Art & Entertainment"}),Object(n.jsx)(d.b,{to:"/categories/Finance",children:"Finance"}),Object(n.jsx)(d.b,{to:"/categories/Food & Drinks",children:"Food & Drinks"}),Object(n.jsx)(d.b,{to:"/categories/Health & Beauty",children:"Health & Beauty"}),Object(n.jsx)(d.b,{to:"/categories/Hospitality",children:"Hospitality"}),Object(n.jsx)(d.b,{to:"/categories/Media & Design",children:"Media & Design"}),Object(n.jsx)(d.b,{to:"/categories/Retail",children:"Retail"})]})}}]),s}(a.Component);function H(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(E,{}),Object(n.jsx)(F,{})]})}var M=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={businesses:[]},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;j.a.get("/api/businesses/my-own-business").then((function(t){console.log(t),e.setState({businesses:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)("section",{children:[Object(n.jsx)("h2",{children:this.state.businesses&&this.state.businesses.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(d.b,{to:"/businesses/".concat(e._id),children:e.title})},e._id)}))}),Object(n.jsx)(d.b,{to:"/add-business",children:"Add Business"})]})}}]),s}(a.Component),P=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={businesses:[]},e.getData=function(){j.a.get("/api/businesses").then((function(t){console.log(t),e.setState({businesses:t.data})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return console.log(this.props),Object(n.jsxs)("div",{children:[Object(n.jsx)(E,{}),this.state.businesses.filter((function(t){return t.category===e.props.match.params.category})).map((function(e){return Object(n.jsx)("div",{children:Object(n.jsxs)(d.b,{to:"/businesses/".concat(e._id),children:[" ",e.title," "]})})}))]})}}]),s}(a.Component),_=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return console.log("props*********",this.props),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(g,{user:this.state.user,setUser:this.setUser}),Object(n.jsx)(k.a,{exact:!0,path:"/",component:H}),Object(n.jsx)(k.a,{exact:!0,path:"/signup",render:function(t){return Object(n.jsx)(D,Object(c.a)({setUser:e.setUser},t))}}),Object(n.jsx)(k.a,{exact:!0,path:"/login",render:function(t){return Object(n.jsx)(B,Object(c.a)({setUser:e.setUser},t))}}),Object(n.jsx)(k.a,{exact:!0,path:"/businesses/:id",render:function(t){return Object(n.jsx)(U,Object(c.a)({user:e.state.user},t))}}),Object(n.jsx)(k.a,{exact:!0,path:"/add-business",component:C}),Object(n.jsx)(k.a,{exact:!0,path:"/my-own-business",render:function(t){return Object(n.jsx)(M,Object(c.a)({setUser:e.setUser},t))}}),Object(n.jsx)(k.a,{exact:!0,path:"/categories/:category",render:function(e){return Object(n.jsx)(P,Object(c.a)({},e))}}),Object(n.jsx)(w,{})]})}}]),s}(a.Component),L=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,66)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))};j.a.get("/api/auth/loggedin").then((function(e){var t=e.data;r.a.render(Object(n.jsx)(d.a,{children:Object(n.jsx)(_,{user:t})}),document.getElementById("root"))})),L()}},[[65,1,2]]]);
//# sourceMappingURL=main.a5cb58c1.chunk.js.map