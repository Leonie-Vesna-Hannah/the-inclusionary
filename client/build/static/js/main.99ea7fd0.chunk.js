(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(1),i=s(21),r=s.n(i),c=(s(55),s(18)),o=s(5),l=s(6),u=s(8),h=s(7),b=(s(56),s(4)),d=s(9),j=s.n(d),p=function(e,t){return j.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},m=function(e,t){return j.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},O=s(20),x=s.n(O),g=s(49),f=s(48),y={default:{"background-color":"whitesmoke",color:"#000","font-family":"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif"},rose:{"background-color":"#FFE8E1",color:"#a50b0b","font-family":"'Courier New', Courier, monospace"},black:{"background-color":"#000",color:"#fff","font-family":"'Courier New', Courier, monospace"},aqua:{"background-color":"#E5FCFF",color:"#847d7d","font-family":"Verdana, Geneva, Tahoma, sans-serif"}},v=s(31),C=s.n(v),_=function(e){var t=e.handleChange,s=[];return Object.keys(y).forEach((function(e){s.push({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)})})),Object(n.jsxs)("div",{className:C.a.themeDropdown,children:[Object(n.jsx)("span",{children:"Color Scheme"}),Object(n.jsx)(f.a,{className:C.a.selectFilter,onChange:t,options:s})]})},N=function(e){var t=e.handleChange;return Object(n.jsx)("header",{children:Object(n.jsx)(_,{handleChange:t})})},S=function(){var e=Object(a.useState)(""),t=Object(g.a)(e,2),s=t[0],i=t[1];return Object(n.jsx)("div",{ref:function(e){e&&s&&Object.keys(s).forEach((function(t){e.style.setProperty(t,s[t],"important"),"background-color"!==t&&"background"!==t||(document.body.style.background=s[t])}))},className:"main-section",children:Object(n.jsx)(N,{handleChange:function(e){i(y[e.value])}})})},w=function(e){j.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};var F=function(e){return Object(n.jsxs)("section",{className:x.a.headerSection,children:[Object(n.jsx)(S,{}),e.user?Object(n.jsxs)("nav",{children:[Object(n.jsx)(b.b,{className:x.a.linkTo,to:"/",children:"Home"}),Object(n.jsx)(b.b,{className:x.a.linkTo,to:"/my-own-business",children:"See your business profile"}),Object(n.jsx)(b.b,{className:x.a.linkTo,to:"/",onClick:function(){return w(e)},children:"Log out"})]}):Object(n.jsxs)("nav",{children:[Object(n.jsx)(b.b,{className:x.a.linkTo,to:"/",children:"Home"}),Object(n.jsx)(b.b,{className:x.a.linkTo,to:"/signup",children:"Signup"}),Object(n.jsx)(b.b,{className:x.a.linkTo,to:"/login",children:"Login"})]})]})},B=s(19),k=s.n(B);function D(e){return Object(n.jsx)("section",{className:k.a.businessList,children:e.businesses&&e.businesses.map((function(e){return Object(n.jsxs)("div",{className:k.a.businessDetailsItem,children:[Object(n.jsx)("figure",{className:k.a.imgWrapper,children:Object(n.jsx)("img",{src:e.picture,alt:"businessPicture"})}),Object(n.jsxs)("div",{className:k.a.businessCardBottom,children:[Object(n.jsx)("h2",{className:k.a.businessName,children:Object(n.jsxs)(b.b,{to:"/businesses/".concat(e._id),children:[" ",e.title]})}),Object(n.jsx)("span",{className:k.a.businessCategory,children:e.category}),e.headOfBusiness&&Object(n.jsxs)("span",{className:k.a.businessHead,children:["Head of Business: ",Object(n.jsx)("strong",{children:e.headOfBusiness})]}),Object(n.jsx)("p",{className:k.a.businessCity,children:e.city})]})]},e._id)}))})}var z=s(16),L=function(e){throw e},I=function(e){return console.log("file to be handled: ",e),j.a.post("/api/upload",e).then((function(e){return e.data})).catch(L)},H=s(3),U=s.n(H),A=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={user:e.props.user,title:"",headOfBusiness:"",description:"",category:"",street:"",houseNumber:"",city:"",zipCode:"",country:"",email:"",picture:"",publicID:"",submitted:!1,imageSelected:!1},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(z.a)({},n,a))},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files[0]),e.setState({imageSelected:!0});var s=new FormData;s.append("picture",t.target.files[0]),I(s).then((function(t){var s=t.secure_url,n=t.public_id;console.log("res from handleupload: ",t.secure_url),e.setState({picture:s,publicID:n}),console.log("new state: ",e.state.picture),!0===e.state.submitted&&e.handleSubmit()})).catch((function(t){e.setState({imageSelected:!1}),console.log("Error while uploading the file: ",t)}))},e.handleSubmit=function(t){t.preventDefault(),console.log(e.state),e.state.picture||!e.state.imageSelected?j.a.post("/api/businesses",{title:e.state.title,headOfBusiness:e.state.headOfBusiness,description:e.state.description,category:e.state.category,street:e.state.street,houseNumber:e.state.houseNumber,city:e.state.city,zipCode:e.state.zipCode,country:e.state.country,email:e.state.email,design:e.state.design,picture:e.state.picture,imagePublicID:e.state.publicID}).then((function(){e.props.history.push("/my-own-business")})).catch((function(e){return console.log(e)})):e.setState({submitted:!0})},e}return Object(l.a)(s,[{key:"render",value:function(){return console.log("props from add business",this.props),Object(n.jsxs)("section",{className:U.a.addBusinessWrapper,children:[Object(n.jsx)("h2",{children:"Add your business:"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:U.a.addBusinessForm,children:[Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(n.jsx)("input",{type:"text",id:"title",name:"title",value:this.state.title,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"headOfBusiness",children:"Head of business: "}),Object(n.jsx)("input",{type:"text",id:"headOfBusiness",name:"headOfBusiness",value:this.state.headOfBusiness,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(n.jsx)("textarea",{cols:"30",rows:"8",type:"text",id:"description",name:"description",placeholder:"Describe your business/service here",value:this.state.description,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"category",children:"Category: "}),Object(n.jsxs)("select",{className:U.a.formSelect,id:"category",name:"category",value:this.state.category,onChange:this.handleChange,children:[Object(n.jsx)("option",{value:"",children:"select a category"}),Object(n.jsx)("option",{value:"Art & Entertainment",children:"Art & Entertainment"}),Object(n.jsx)("option",{value:"Finance",children:"Tech & Finance"}),Object(n.jsx)("option",{value:"Food & Drinks",children:"Food & Drinks"}),Object(n.jsx)("option",{value:"Health & Beauty",children:"Health & Beauty"}),Object(n.jsx)("option",{value:"Hospitality",children:"Hospitality"}),Object(n.jsx)("option",{value:"Media & Design",children:"Media & Design"}),Object(n.jsx)("option",{value:"Retail",children:"Retail"})]})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"street",children:"Street: "}),Object(n.jsx)("input",{type:"text",id:"street",name:"street",value:this.state.street,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"houseNumber",children:"House number: "}),Object(n.jsx)("input",{type:"text",id:"houseNumber",name:"houseNumber",value:this.state.houseNumber,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"city",children:"City: "}),Object(n.jsx)("input",{type:"text",id:"city",name:"city",value:this.state.city,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code: "}),Object(n.jsx)("input",{type:"text",id:"zipCode",name:"zipCode",value:this.state.zipCode,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"country",children:"Country: "}),Object(n.jsx)("input",{type:"text",id:"country",name:"country",value:this.state.country,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"email",children:"E-mail: "}),Object(n.jsx)("input",{type:"text",id:"email",name:"email",value:this.state.email,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"picture",children:"Image:"}),Object(n.jsx)("input",{type:"file",name:"picture",id:"picture",onChange:this.handleFileUpload})]}),Object(n.jsx)("button",{type:"submit",children:"Submit"})]})]})}}]),s}(a.Component),T=s(45),E=s.n(T),M=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{className:E.a.searchBar,children:Object(n.jsxs)("h3",{children:[" Search for Business \ud83d\udd0e  \xa0",Object(n.jsx)("input",{type:"text",name:"search",onChange:this.props.mySearch})]})})}}]),s}(a.Component),W=s(23),P=s.n(W),V=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={businesses:[],search:""},e.getData=function(){j.a.get("/api/businesses").then((function(t){console.log(t),e.setState({businesses:t.data})})).catch((function(e){return console.log(e)}))},e.mySearch=function(t){e.setState({search:t.target.value.toLowerCase()})},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state.businesses.filter((function(t){return t.title.includes(e.state.search)}));return console.log(t),Object(n.jsxs)("div",{className:"businesses-container",children:[Object(n.jsx)(M,{mySearch:this.mySearch}),Object(n.jsx)("div",{className:P.a.welcomeBox,children:Object(n.jsxs)("div",{className:P.a.welcomeText,children:[Object(n.jsx)("h3",{className:P.a.welcome,children:" WELCOME \ud83d\ude4c"}),Object(n.jsxs)(b.b,{to:"/Credits",children:[Object(n.jsxs)("button",{class:P.a.welcomeButton,children:[" ",Object(n.jsxs)("paragraph",{children:["You are looking for places and businesses led by women*!",Object(n.jsx)("br",{})," Wonderful, you are aware of the gender gap! ",Object(n.jsx)("br",{}),"Women fight bravely and powerful a continuous struggle - both in society ",Object(n.jsx)("br",{})," in general and in their places of work. ",Object(n.jsx)("br",{}),Object(n.jsx)("b",{children:" There is a lot of talk, here you can take action! "}),Object(n.jsx)("br",{}),"The road to equality lies ahead, look at our range of businesses, they are all led by women*!",Object(n.jsx)("br",{}),"Visit their sites, and support them by going there!"]})]})," "]})]})}),Object(n.jsx)(D,{businesses:t})]})}}]),s}(a.Component),R=s(30),q=s.n(R);function X(){return Object(n.jsx)("div",{className:q.a.footerSection,children:" Made in Berlin 2020 by Vesna, Hannah & Leonie \ud83d\udc99 "})}var Z=s(15),G=s.n(Z),J=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(z.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password;p(n,a).then((function(t){console.log("data signup",t),t.message?e.setState({message:t.message,username:n,password:a}):(e.props.setUser(t),e.props.history.push("/my-own-business"))}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("section",{className:G.a.signupWrapper,children:[Object(n.jsx)("h1",{children:"You can create your business profile here:"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:G.a.signupForm,children:[Object(n.jsxs)("div",{className:G.a.signupUsername,children:[Object(n.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(n.jsx)("input",{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:G.a.signupPass,children:[Object(n.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})]}),Object(n.jsx)("button",{type:"submit",children:"Signup"}),this.state.message&&Object(n.jsx)("p",{children:this.state.message})]})]})}}]),s}(a.Component),Q=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={username:"",password:"",message:""},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(z.a)({},n,a))},e.handleSubmit=function(t){t.preventDefault();var s=e.state,n=s.username,a=s.password;m(n,a).then((function(t){console.log("data login",t),t.message?e.setState({message:t.message,username:n,password:a}):(e.props.setUser(t),e.props.history.push("/my-own-business"))}))},e}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("section",{className:G.a.signupWrapper,children:[Object(n.jsx)("h1",{children:"Log in here:"}),Object(n.jsxs)("form",{onSubmit:this.handleSubmit,className:G.a.signupForm,children:[Object(n.jsxs)("div",{className:G.a.signupUsername,children:[Object(n.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(n.jsx)("input",{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})]}),Object(n.jsxs)("div",{className:G.a.signupPass,children:[Object(n.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(n.jsx)("input",{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})]}),Object(n.jsx)("button",{type:"submit",children:"Log in"}),this.state.message&&Object(n.jsx)("p",{children:this.state.message}),Object(n.jsx)("div",{className:G.a.googleLogin,children:Object(n.jsx)("a",{href:"http://localhost:5555/api/auth/google",children:"Log in With Google"})})]})]})}}]),s}(a.Component),Y=s(10),K=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsxs)("section",{className:U.a.addBusinessWrapper,children:[Object(n.jsx)("h2",{children:"Edit business:"}),Object(n.jsxs)("form",{onSubmit:this.props.handleSubmit,className:U.a.addBusinessForm,children:[Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"title",children:"Title: "}),Object(n.jsx)("input",{type:"text",id:"title",name:"title",value:this.props.title,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"headOfBusiness",children:"Head of business: "}),Object(n.jsx)("input",{type:"text",id:"headOfBusiness",name:"headOfBusiness",value:this.props.headOfBusiness,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"description",children:"Description: "}),Object(n.jsx)("textarea",{cols:"30",rows:"8",type:"text",id:"description",name:"description",placeholder:"Describe your business/service here",value:this.props.description,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"category",children:"Category: "}),Object(n.jsxs)("select",{className:U.a.formSelect,id:"category",name:"category",value:this.props.category,onChange:this.props.handleChange,children:[Object(n.jsx)("option",{value:"",children:"select a category"}),Object(n.jsx)("option",{value:"Art & Entertainment",children:"Art & Entertainment"}),Object(n.jsx)("option",{value:"Finance",children:"Finance"}),Object(n.jsx)("option",{value:"Food & Drinks",children:"Food & Drinks"}),Object(n.jsx)("option",{value:"Health",children:"Health"}),Object(n.jsx)("option",{value:"Hospitality",children:"Hospitality"}),Object(n.jsx)("option",{value:"Media & Design",children:"Media & Design"}),Object(n.jsx)("option",{value:"Retail",children:"Retail"})]})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"street",children:"Street: "}),Object(n.jsx)("input",{type:"text",id:"street",name:"street",value:this.props.street,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"houseNumber",children:"House number: "}),Object(n.jsx)("input",{type:"number",id:"houseNumber",name:"houseNumber",value:this.props.houseNumber,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"city",children:"City: "}),Object(n.jsx)("input",{type:"text",id:"city",name:"city",value:this.props.city,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"zipCode",children:"ZIP Code: "}),Object(n.jsx)("input",{type:"number",id:"zipCode",name:"zipCode",value:this.props.zipCode,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"country",children:"Country: "}),Object(n.jsx)("input",{type:"text",id:"country",name:"country",value:this.props.country,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"email",children:"E-mail: "}),Object(n.jsx)("input",{type:"text",id:"email",name:"email",value:this.props.email,onChange:this.props.handleChange})]}),Object(n.jsxs)("div",{className:U.a.formContent,children:[Object(n.jsx)("label",{htmlFor:"picture",children:"Image:"}),Object(n.jsx)("input",{type:"file",name:"picture",id:"picture",onChange:this.props.handleFileUpload})]}),Object(n.jsx)("button",{type:"submit",children:"Update Business"})]})]})}}]),s}(a.Component),$=(s(98),s(46)),ee=s.n($),te=s(25),se=s.n(te);se.a.accessToken="pk.eyJ1IjoidmVzbmFtIiwiYSI6ImNraXEzMXk2NzBjczgyc3A5NzM1cnZ4eHUifQ.3lDAsenrxdP6Sq4WVSo43g";var ne=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={lng:e.props.long,lat:e.props.lat,zoom:20},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=new se.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[this.state.lng,this.state.lat],zoom:this.state.zoom});new se.a.Marker({offset:[0,-25]}).setLngLat([this.state.lng,this.state.lat]).addTo(e)}},{key:"render",value:function(){var e=this;return console.log("state from mapbox",this.state),Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:ee.a.container,ref:function(t){return e.mapContainer=t}})})}}]),s}(a.Component),ae=s(24),ie=s.n(ae),re=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={business:null,editForm:!1,error:null,title:"",headOfBusiness:"",picture:"",description:"",category:"",street:"",houseNumber:"",city:"",zipCode:"",country:"",email:"",publicID:"",submitted:!1,imageSelected:!1,lat:52.52,long:13.4},e.getData=function(){var t=e.props.match.params.id;j.a.get("/api/businesses/".concat(t)).then((function(t){e.setState({business:t.data,title:t.data.title,headOfBusiness:t.data.headOfBusiness,picture:t.data.picture,description:t.data.description,category:t.data.category,street:t.data.street,houseNumber:t.data.houseNumber,city:t.data.city,zipCode:t.data.zipCode,country:t.data.country,email:t.data.email})})).catch((function(t){console.log(t),404===t.response.status&&e.setState({error:"Sorry - Business Not found"})}))},e.latLngCall=function(){var t=e.state.street.split(" ").join("%20");j.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,"%20").concat(e.state.houseNumber,"%20").concat(e.state.zipCode,"%20").concat(e.state.city,".json?country=DE&access_token=pk.eyJ1IjoidmVzbmFtIiwiYSI6ImNraXEzMXk2NzBjczgyc3A5NzM1cnZ4eHUifQ.3lDAsenrxdP6Sq4WVSo43g")).then((function(t){e.setState({lat:t.data.features[0].center[1],long:t.data.features[0].center[0]})}))},e.componentDidMount=function(){e.getData(),setTimeout((function(){e.latLngCall()}),2e3)},e.deleteBusiness=function(){var t=e.props.match.params.id;j.a.delete("/api/businesses/".concat(t)).then((function(){e.props.history.push("/my-own-business")}))},e.toggleEditForm=function(){e.setState((function(e){return{editForm:!e.editForm}}))},e.handleChange=function(t){var s=t.target,n=s.name,a=s.value;e.setState(Object(z.a)({},n,a))},e.handleFileUpload=function(t){console.log("The file to be uploaded is: ",t.target.files[0]),e.setState({imageSelected:!0});var s=new FormData;s.append("picture",t.target.files[0]),console.log("upload data",s),I(s).then((function(t){var s=t.secure_url,n=t.public_id;console.log("res from handleupload: ",t.secure_url),e.setState({picture:s,publicID:n}),console.log("new state: ",e.state.picture),!0===e.state.submitted&&e.handleSubmit()})).catch((function(t){e.setState({imageSelected:!1}),console.log("Error while uploading the file: ",t)}))},e.handleSubmit=function(t){t.preventDefault();var s=e.props.match.params.id;e.state.picture||!e.state.imageSelected?j.a.put("/api/businesses/".concat(s),{title:e.state.title,headOfBusiness:e.state.headOfBusiness,description:e.state.description,picture:e.state.picture,category:e.state.category,street:e.state.street,houseNumber:e.state.houseNumber,city:e.state.city,zipCode:e.state.zipCode,country:e.state.country,email:e.state.email,imagePublicID:e.state.publicID}).then((function(t){e.setState({business:t.data,title:t.data.title,headOfBusiness:t.data.headOfBusiness,description:t.data.description,picture:t.data.picture,category:t.data.category,street:t.data.street,houseNumber:t.data.houseNumber,city:t.data.city,zipCode:t.data.zipCode,country:t.data.country,email:t.data.email,editForm:!1,publicID:t.data.publicID})})).catch((function(e){console.log(e)})):e.setState({submitted:!0})},e}return Object(l.a)(s,[{key:"render",value:function(){if(this.state.error)return Object(n.jsx)("h1",{children:this.state.error});if(!this.state.business)return Object(n.jsx)("h1",{children:"Loading..."});var e=!1,t=this.props.user;console.log("user",t),console.log("props",this.props);var s=this.state.business.owner;return t&&t._id===s&&(e=!0),Object(n.jsx)("section",{className:ie.a.businessList,children:Object(n.jsxs)("center",{children:[Object(n.jsx)("img",{src:this.state.business.picture,alt:"business"}),Object(n.jsx)("h1",{children:this.state.business.title}),Object(n.jsxs)("p",{children:[Object(n.jsx)("b",{children:"Owner: "}),this.state.business.headOfBusiness]}),Object(n.jsxs)("p",{class:ie.a.businessDescription,children:[" ",this.state.business.description]}),Object(n.jsxs)("p",{children:[" ",Object(n.jsx)("b",{children:"Category: "})," ",this.state.business.category]}),Object(n.jsxs)("div",{className:ie.a.businessAdress,children:[Object(n.jsx)("b",{children:"Address:"}),Object(n.jsx)("br",{}),this.state.business.street," \xa0",this.state.business.houseNumber," ",Object(n.jsx)("br",{}),this.state.business.zipCode," \xa0",this.state.business.city," ",Object(n.jsx)("br",{}),this.state.business.country," ",Object(n.jsx)("br",{}),this.state.business.email]}),Object(n.jsx)("br",{}),e&&Object(n.jsx)("button",{onClick:this.deleteBusiness,children:"Delete Business"}),e&&Object(n.jsx)("button",{onClick:this.toggleEditForm,children:"Edit Business"}),Object(n.jsx)("br",{}),Object(n.jsx)("a",{href:"http://www.schokofabrik.de/",about:"blank",children:Object(n.jsx)("button",{onClick:this.backgroundColor,children:"Go To Website"})}),this.state.editForm&&Object(n.jsx)(K,Object(c.a)(Object(c.a)({},this.state),{},{handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleFileUpload:this.handleFileUpload})),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:ie.a.mapbox,children:Object(n.jsx)(ne,{lat:this.state.lat,long:this.state.long})})]})})}}]),s}(a.Component),ce=(s(99),function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("center",{children:[Object(n.jsx)("button",{children:Object(n.jsx)(b.b,{to:"/categories/Art & Entertainment",children:Object(n.jsx)("h3",{children:" Art & Entertainment "})})}),Object(n.jsx)("button",{children:Object(n.jsxs)(b.b,{to:"/categories/Finance",children:[" ",Object(n.jsx)("h3",{children:" Tech & Finance "})]})}),Object(n.jsx)("button",{children:Object(n.jsxs)(b.b,{to:"/categories/Food & Drinks",children:[" ",Object(n.jsx)("h3",{children:"Food & Drinks "})]})}),Object(n.jsx)("button",{children:Object(n.jsxs)(b.b,{to:"/categories/Health & Beauty",children:["  ",Object(n.jsx)("h3",{children:" Health & Beauty "}),"  "]})}),Object(n.jsx)("button",{children:Object(n.jsxs)(b.b,{to:"/categories/Hospitality",children:[" ",Object(n.jsx)("h3",{children:" Hospitality "})]})}),Object(n.jsx)("button",{children:Object(n.jsxs)(b.b,{to:"/categories/Media & Design",children:[" ",Object(n.jsx)("h3",{children:"Media & Design "})]})}),Object(n.jsx)("button",{children:Object(n.jsx)(b.b,{to:"/categories/Retail",children:Object(n.jsx)("h3",{children:"Retail"})})})]})})}}]),s}(a.Component));function oe(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(ce,{}),Object(n.jsx)(V,{})]})}var le=s(47),ue=s.n(le),he=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={businesses:[]},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){var e=this;j.a.get("/api/businesses/my-own-business").then((function(t){console.log(t),e.setState({businesses:t.data})}))}},{key:"render",value:function(){return Object(n.jsxs)("section",{className:ue.a.categories,children:[Object(n.jsx)("h2",{children:this.state.businesses&&this.state.businesses.map((function(e){return Object(n.jsx)("div",{children:Object(n.jsx)(b.b,{to:"/businesses/".concat(e._id),children:e.title})},e._id)}))}),Object(n.jsxs)(b.b,{to:"/add-business",children:[" ",Object(n.jsx)("button",{children:"Add Business"})]})]})}}]),s}(a.Component),be=s(26),de=s.n(be),je=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={businesses:[]},e.getData=function(){j.a.get("/api/businesses").then((function(t){console.log(t),e.setState({businesses:t.data})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return console.log(this.props),Object(n.jsxs)("div",{children:[Object(n.jsx)(ce,{}),this.state.businesses.filter((function(t){return t.category===e.props.match.params.category})).map((function(e){return Object(n.jsx)("div",{className:de.a.categories,children:Object(n.jsxs)(b.b,{to:"/businesses/".concat(e._id),children:[" ",Object(n.jsxs)("h2",{className:de.a.businessName,children:[e.title," "]}),Object(n.jsx)("figure",{className:de.a.imgWrapper,children:Object(n.jsx)("img",{src:e.picture,alt:"businessPicture"})})]})})}))]})}}]),s}(a.Component);function pe(){return Object(n.jsx)("div",{children:Object(n.jsxs)("center",{children:[Object(n.jsx)("b",{children:" Impressum "})," ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"GitHub Master: Hannah ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Functionalities Fighter: Vesna ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"ColorSwitch: Leonie ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"CSS: Vesna & Leonie ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"CEO of Deployment: Hannah ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Nervous Breakdowns: 500 ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Care Worker: Kevin ",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),"Thanks to Ironhack for taking over my life  \ud83c\udf89",Object(n.jsx)("br",{}),Object(n.jsx)("br",{})]})})}var me=function(e){Object(u.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={user:e.props.user},e.setUser=function(t){e.setState({user:t})},e}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return console.log("props*********",this.props),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(F,{user:this.state.user,setUser:this.setUser}),Object(n.jsx)(Y.a,{exact:!0,path:"/",component:oe}),Object(n.jsx)(Y.a,{exact:!0,path:"/signup",render:function(t){return Object(n.jsx)(J,Object(c.a)({setUser:e.setUser},t))}}),Object(n.jsx)(Y.a,{exact:!0,path:"/login",render:function(t){return Object(n.jsx)(Q,Object(c.a)({setUser:e.setUser},t))}}),Object(n.jsx)(Y.a,{exact:!0,path:"/businesses/:id",render:function(t){return Object(n.jsx)(re,Object(c.a)({user:e.state.user},t))}}),Object(n.jsx)(Y.a,{exact:!0,path:"/add-business",component:A}),Object(n.jsx)(Y.a,{exact:!0,path:"/my-own-business",render:function(t){return Object(n.jsx)(he,Object(c.a)({setUser:e.setUser},t))}}),Object(n.jsx)(Y.a,{exact:!0,path:"/categories/:category",render:function(e){return Object(n.jsx)(je,Object(c.a)({},e))}}),Object(n.jsx)(Y.a,{exact:!0,path:"/Credits",component:pe}),Object(n.jsx)(X,{})]})}}]),s}(a.Component),Oe=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,101)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),i(e),r(e)}))};j.a.get("/api/auth/loggedin").then((function(e){var t=e.data;r.a.render(Object(n.jsx)(b.a,{children:Object(n.jsx)(me,{user:t})}),document.getElementById("root"))})),Oe()},15:function(e,t,s){e.exports={signupWrapper:"Signup_signupWrapper__3F9lN",signupForm:"Signup_signupForm__3r9xT",signupUsername:"Signup_signupUsername__29AHn",signupPass:"Signup_signupPass__1Hxnc",googleLogin:"Signup_googleLogin__SMKyD"}},19:function(e,t,s){e.exports={businessList:"BusinessList_businessList__3PSrh",businessDetailsItem:"BusinessList_businessDetailsItem__2kUxq",imgWrapper:"BusinessList_imgWrapper__11hCG",businessCardBottom:"BusinessList_businessCardBottom__oLxSe",businessName:"BusinessList_businessName__3Wa6y",businessCategory:"BusinessList_businessCategory__3Meth",businessHead:"BusinessList_businessHead__2sIFa",businessCity:"BusinessList_businessCity__3cDq3"}},20:function(e,t,s){e.exports={headerSection:"Header_headerSection__2i_hE",linkTo:"Header_linkTo__2XGl6"}},23:function(e,t,s){e.exports={welcomeText:"Businesses_welcomeText__2DRIo",welcomeButton:"Businesses_welcomeButton__1d3Zl",welcome:"Businesses_welcome__1zzs3"}},24:function(e,t,s){e.exports={businessList:"BusinessDetails_businessList__2VZ3P",businessDescription:"BusinessDetails_businessDescription__3UPAC",businessAdress:"BusinessDetails_businessAdress__2JDMI"}},26:function(e,t,s){e.exports={categories:"Categories_categories__35_V_",businessList:"Categories_businessList__1k_D1",businessDetailsItem:"Categories_businessDetailsItem__3Plk0",imgWrapper:"Categories_imgWrapper__137tg",businessCardBottom:"Categories_businessCardBottom__3fcos",businessName:"Categories_businessName__cegr1",businessCategory:"Categories_businessCategory__3q6tz",businessHead:"Categories_businessHead__V9A1z",businessCity:"Categories_businessCity__8zTd9"}},3:function(e,t,s){e.exports={addBusinessWrapper:"AddBusiness_addBusinessWrapper__2U2LL",addBusinessForm:"AddBusiness_addBusinessForm__2nVmn",formContent:"AddBusiness_formContent__1Xz2s",formSelect:"AddBusiness_formSelect__2aKPI"}},30:function(e,t,s){e.exports={footerSection:"Footer_footerSection__36Tt1",linkTo:"Footer_linkTo__3kUQr"}},31:function(e,t,s){e.exports={themeDropdown:"Dropdown_themeDropdown__3OyFr",selectFilter:"Dropdown_selectFilter__1Yoj2"}},45:function(e,t,s){e.exports={searchBar:"SearchBar_searchBar__W2Qbi"}},46:function(e,t,s){e.exports={container:"mapbox_container__3PXv3"}},47:function(e,t,s){e.exports={categories:"OwnBusiness_categories__3Q6Mz"}},55:function(e,t,s){},56:function(e,t,s){},99:function(e,t,s){e.exports={"btn-white":"CategoriesList_btn-white__1IWdz",btn:"CategoriesList_btn__3TU1Z"}}},[[100,1,2]]]);
//# sourceMappingURL=main.99ea7fd0.chunk.js.map